{"version":3,"file":"parser.min.js","sources":["../../src/common.ts","../../src/server.ts","../../src/index.ts"],"sourcesContent":[null,null,null],"names":["injectToHTML","HTMLContent","injectContent","canidates","RegExp","tagToInject","tag","match","exec","replace","staticServer","publicPath","path","resolve","app","express","ws","expressWs","readFileSync","join","__dirname","toString","injectWatchScriptToHTML","dir","files","readdirSync","file","currentPath","statSync","isDirectory","extname","htmlContent","pathObj","parse","relative","get","name","_req","res","send","use","static","index","socket","start","listen","update","JSON","stringify","msg","error","data","on","program","Command","info","str","console","log","chalk","cyan","blue","red","bundleFiles","async","entry","outputDir","typescriptDetails","bundleExtensions","babelConfig","presets","modules","targets","plugins","pragma","babelHelpers","extensions","inputOptions","input","minifyHTML","postcss","typescript","tsconfig","rollupBabelPlugin","nodeResolve","commonjs","inject","___leaf_create_element_react","terser","compress","passes","progress","outputPath","outputOptions","format","bundle","isError","rollup","write","err","gray","close","process","exit","getConfigWithDefault","userConfig","_a","_b","entryHTML","_c","undefined","buildFromConfig","configPath","config","fs","entryHTMLContent","writeFileSync","startDevServer","port","existsSync","mkdirSync","bundleOutputPath","rollupConfig","output","watcher","watch","currentError","server","open","clearScreen","stdout","moveCursor","cursorTo","clearScreenDown","isRebuilding","event","code","message","result","chokidar","ignored","description","command","option","action","options","parseInt"],"mappings":"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"}