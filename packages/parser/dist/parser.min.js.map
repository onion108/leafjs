{"version":3,"file":"parser.min.js","sources":["../../src/common.ts","../../src/server.ts","../../src/index.ts"],"sourcesContent":[null,null,null],"names":["injectToHTML","HTMLContent","injectContent","canidates","RegExp","tagToInject","tag","match","exec","replace","staticServer","publicPath","path","resolve","app","express","ws","expressWs","readFileSync","join","__dirname","toString","injectWatchScriptToHTML","dir","files","readdirSync","file","currentPath","statSync","isDirectory","extname","htmlContent","pathObj","parse","relative","get","name","_req","res","send","use","static","index","socket","start","listen","update","JSON","stringify","msg","error","data","on","program","Command","info","str","console","log","chalk","cyan","blue","red","warn","yellow","bundleFiles","async","config","bundleExtensions","typescript","babelConfig","presets","modules","targets","plugins","pragma","babelHelpers","extensions","bundle","isError","iifePath","format","formats","inputOptions","input","entry","minifyHTML","postcss","tsconfig","rollupBabelPlugin","nodeResolve","commonjs","inject","___leaf_create_element_react","terser","compress","passes","progress","external","outputPath","outputOptions","outputDir","rollup","write","err","gray","close","process","exit","getConfigWithDefault","userConfig","userFormats","push","_a","_b","_c","_d","_e","entryHTML","_f","undefined","buildFromConfig","configPath","fs","entryHTMLExists","existsSync","entryHTMLContent","writeFileSync","startDevServer","port","mkdirSync","bundleOutputPath","length","rollupConfig","output","watcher","watch","currentError","server","open","clearScreen","stdout","moveCursor","cursorTo","clearScreenDown","isRebuilding","event","code","message","result","chokidar","ignored","description","command","option","action","options","parseInt"],"mappings":"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"}