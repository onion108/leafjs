{"version":3,"file":"parser.min.js","sources":["../../src/common.ts","../../src/server.ts","../../src/index.ts"],"sourcesContent":[null,null,null],"names":["injectToHTML","HTMLContent","injectContent","canidates","RegExp","tagToInject","tag","match","exec","replace","staticServer","publicPath","path","resolve","app","express","ws","expressWs","readFileSync","join","__dirname","toString","injectWatchScriptToHTML","dir","files","readdirSync","file","currentPath","statSync","isDirectory","extname","htmlContent","pathObj","parse","relative","get","name","_req","res","send","use","static","index","socket","start","listen","update","JSON","stringify","msg","error","data","on","program","Command","info","str","console","log","chalk","cyan","blue","red","warn","yellow","bundleFiles","async","config","bundleExtensions","typescript","babelConfig","presets","modules","targets","plugins","pragma","babelHelpers","extensions","bundle","isError","format","formats","inputOptions","input","entry","minifyHTML","postcss","tsconfig","rollupBabelPlugin","nodeResolve","commonjs","inject","___leaf_create_element_react","terser","compress","passes","progress","external","outputPath","outputOptions","outputDir","rollup","write","err","gray","close","process","exit","getConfigWithDefault","userConfig","userFormats","push","_a","_b","_c","_d","_e","entryHTML","_f","undefined","buildFromConfig","configPath","fs","entryHTMLContent","writeFileSync","startDevServer","port","existsSync","mkdirSync","bundleOutputPath","length","rollupConfig","output","watcher","watch","currentError","server","open","clearScreen","stdout","moveCursor","cursorTo","clearScreenDown","isRebuilding","event","code","message","result","chokidar","ignored","description","command","option","action","options","parseInt"],"mappings":"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"}